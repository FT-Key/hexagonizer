#!/usr/bin/env bash

# bin/hexagon

# Ruta base del proyecto
DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

show_menu() {
  echo "ğŸš€ Hexagonizer"
  echo "==============================="
  echo "1. ğŸ§± Inicializar proyecto"
  echo "2. ğŸ§¬ Generar nueva entidad (modo interactivo)"
  echo "3. âš¡ Generar entidad (responder sÃ­ a todo)"
  echo "4. ğŸ“„ Generar entidad desde JSON"
  echo "5. ğŸ“„âš¡ Generar entidad desde JSON (sÃ­ a todo)"
  echo "6. âŒ Salir"
  echo "==============================="
}

read_option() {
  local choice
  read -rp "ğŸ‘‰ Selecciona una opciÃ³n [1-6]: " choice
  case "$choice" in
  1) bash "$DIR/scripts/init-project.sh" ;;
  2) bash "$DIR/scripts/entity-generator.sh" ;;
  3) bash "$DIR/scripts/entity-generator.sh" -y ;;
  4) bash "$DIR/scripts/entity-generator.sh" --json ;;
  5) bash "$DIR/scripts/entity-generator.sh" --json -y ;;
  6)
    echo "ğŸ‘‹ Saliendo..."
    exit 0
    ;;
  *) echo "âŒ OpciÃ³n invÃ¡lida" ;;
  esac
  echo
  read -rp "Presiona ENTER para continuar..."
}

# Bucle principal
while true; do
  clear
  show_menu
  read_option
done
